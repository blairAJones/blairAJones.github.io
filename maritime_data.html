<!DOCTYPE html>
<html>

<head>
  <title>Data Description</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .navbar-brand {
      font-size: 1.8rem;
      font-weight: 700;
      color: white;
    }

    .nav-tabs .nav-link {
      white-space: normal !important;
      word-break: break-word;
      max-width: 160px;
      display: block;
      text-align: center;
      height: 100%;
      border: 1px solid transparent;
    }

    .nav-tabs .nav-link:hover,
    .nav-tabs .nav-link.active {
      border-color: #dee2e6 #dee2e6 #fff;
      background-color: #f8f9fa;
    }

    .formula {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      margin: 15px 0;
      text-align: center;
    }
  </style>
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>

<body>

  <!-- Main Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">Blair Jones</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="projects.html" role="button"
              data-bs-toggle="dropdown">Projects</a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="CSCI5612.html">Online Retail Data Insights</a></li>
              <li><a class="dropdown-item" href="imdb.html">IMDb Data Analysis</a></li>
              <li><a class="dropdown-item active" href="maritime.html">Maritime Trade Analytics</a></li>
              <li><a class="dropdown-item" href="coming_soon.html">Coming Soon</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Subproject Tabs -->
  <div class="container mt-3">
    <ul class="nav nav-tabs">
      <li class="nav-item"><a class="nav-link" href="maritime.html">Introduction</a></li>
      <li class="nav-item"><a class="nav-link active" href="maritime_data.html">Data Description</a></li>
      <li class="nav-item"><a class="nav-link" href="maritime_methods.html">Methods</a></li>
      <li class="nav-item"><a class="nav-link" href="maritime_results.html">Results</a></li>
      <li class="nav-item"><a class="nav-link" href="maritime_conclusion.html">Conclusions</a></li>
    </ul>

    <div class="mt-4">
      <h1 class="mb-4">Data Description</h1>
      <p>As mentioned above, the raw data is obtained in .csv tabular form and requires cleaning due to semantic
        mismatches in search terms and messy product description fields. The raw data contains 56 fields, including many
        needed for specific search like BOL, container, and vessel numbers. Of interest to this project were fields like
        supplier (vendor), company (customer), and carrier names, departure and destination ports, weight (kg) and
        volume (in TEU – twenty-foot equivalent unit container size) and arrival date. </p>

      <p>Sixty-nine months of data was available, January 2020 through September 2025. </p>

      <hr>

      <!-- Quantity / Units (Paper page 7) -->
      <h2>Quantity / Units</h2>
      <p>
        There are fields for item quantity along with a quantity unit, such as CTN (carton), PCS (piece), and PKG
        (package). Due to inconsistencies with size of these units, weight and volume provided in standard units were
        preferred as features. One example of this inconsistency is the CTN unit which has a mean of 10kg but a max of
        6,000+kg. One way to adapt for these inconsistencies is to derive features like quantity per TEU or weight per
        unit, normalizing for shipment size.
      </p>

      <hr>

      <!-- CIF (Paper page 7) -->
      <h2>CIF</h2>
      <p>
        Cost, insurance and freight (CIF) is a standard incoterm where the seller agrees to pay for the freight and
        insurance of the goods while on the water. About 11-12% of the shipments contained these terms, meaning a value
        in the column Value in USD (CIF) that represented the cost of that shipment before import. For all others,
        “Different Incoterm Used” was noted. Some analyses used weight or shipment counts, so all cleaned data was
        available; others used CIF as the response variable, then with fewer observations available. Due to the low
        percentage of observations with CIF available, an attempt to fill in missing data was not feasible; rather, two
        different data sets were considered. Note that for items with CIF values, a cost per kg field was added to
        account for shipment size.
      </p>

      <hr>

      <!-- Feature Engineering (Paper page 7) -->
      <h2>Feature Engineering</h2>
      <p>
        Simple additional features were added directly from the original data including extracting arrival month, year
        and day from the Arrival Date field as well as using that field to calculate delay days as Estimated Arrival
        Date was also available. To consider seasonality without the artificial jump from December (12) to January (1),
        cyclical encoding was applied to months:
      </p>

      <!-- Cyclical encoding formula -->
      $$
      \begin{aligned}
      \text{month_sin} &= \sin\left(\frac{2\pi \cdot \text{months}}{12}\right) \\
      \text{month_cos} &= \cos\left(\frac{2\pi \cdot \text{months}}{12}\right)
      \end{aligned}
      $$

      <p>Other fields were added using additional data containing port latitude and longitude, which then can be used to
        calculate
        <a href="https://wwf-sight-maps.org/arcgis/rest/services/Global/Ports/MapServer/0/query" target="blank">shipping
          distance</a>.
        A module called <code>searoutes</code> was imported and used to
        calculate true shipping distance, as a Haversine distance using latitude and longitude only captures “great
        circle” distance and is not realistic when considering shipments from Asia to the east coast of the United
        States.
      </p>

      <p>As mentioned above, an <em>OpenAI</em> API call was used to attempt to classify certain items based on messy
        product
        descriptions. For the shoes data, these were descriptions like athletic shoes, dress shoes, boots, etc., to be
        used as an additional product type feature.</p>

      <p>Supplier and company (customer) names were cleaned and combined using fuzzy matching and clustering via
        similarity
        graph and Top Customer and Top Supplier boolean fields were added based on the top 20. Similarly, route
        (departure
        to destination) and port frequency were included as additional shipment features.</p>

      <p>For routes, in addition to looking at frequency, a K-Means clustering (K=15) was performed on latitude and
        longitude coordinates to consolidate geographically close ports, for example, the Ports of Los Angeles and Long
        Beach. Then, a <code>route_id</code> feature was created as a categorical variable.</p>


      <hr>

      <!-- Seasonality (Paper page 8) -->
      <h2>Seasonality</h2>
      <p>Using weights and looking at arrivals per week, a heatmap representing changes from overall average was
        created, to highlight weeks of the year that have higher or lower arrival weights. This is in line with expected
        slow-downs in China over the Chinese New Year holiday (January or February yearly), which show up in arrival
        data in the 12th-14th weeks of the year. </p>

      <!-- IMAGE: Figure 1 - Weekly Seasonality Heatmap -->
      <figure style="text-align: center; margin: 30px 0;">
        <img src="/images/maritime/weekly_shipment_heatmap.png" alt="Weekly Seasonality Heatmap" class="img-fluid"
          style="max-width: 90%;" />
        <figcaption class="text-muted">Figure 1: Weekly Shipments (kg) compared with Mean</figcaption>
      </figure>

      <hr>

      <!-- Analysis by Country (Paper page 8) -->
      <h2>Analysis by Country</h2>
      <!-- PASTE: Analysis by Country paragraph -->
      <p>For tariff-related analysis, shipment counts and volume by country (using the <code>{departure_port}</code>
        field)
        were summarized. China topped the counts list, representing 61% of all shipments for the full data period
        reviewed. Because of this, particular focus was given to Chinese-based suppliers when analyzing shipment
        location post tariff announcements.</p>

      <!-- Shipment Counts by Country Table -->
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Country</th>
            <th>Count</th>
            <th>Percent (%)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>China</td>
            <td>98,403</td>
            <td>61.04</td>
          </tr>
          <tr>
            <td>Vietnam</td>
            <td>28,194</td>
            <td>17.49</td>
          </tr>
          <tr>
            <td>Singapore</td>
            <td>8,555</td>
            <td>5.31</td>
          </tr>
          <tr>
            <td>South Korea</td>
            <td>3,712</td>
            <td>2.30</td>
          </tr>
          <tr>
            <td>Italy</td>
            <td>2,309</td>
            <td>1.43</td>
          </tr>
          <tr>
            <td>Hong Kong</td>
            <td>2,121</td>
            <td>1.32</td>
          </tr>
          <tr>
            <td>Malaysia</td>
            <td>1,842</td>
            <td>1.14</td>
          </tr>
          <tr>
            <td>Taiwan</td>
            <td>1,619</td>
            <td>1.00</td>
          </tr>
          <tr>
            <td>Germany</td>
            <td>1,592</td>
            <td>0.99</td>
          </tr>
          <tr>
            <td>Belgium</td>
            <td>1,477</td>
            <td>0.92</td>
          </tr>
          <tr>
            <td>Indonesia</td>
            <td>1,268</td>
            <td>0.79</td>
          </tr>
        </tbody>
      </table>

      <!-- Navigation -->
      <div class="mt-5 mb-5 text-center">
        <a href="maritime.html" class="btn btn-outline-secondary">← Introduction</a>
        <a href="maritime_methods.html" class="btn btn-primary btn-lg ms-3">Next: Methods →</a>
      </div>

      <div style="height: 50px;"></div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>